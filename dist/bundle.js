!function(t){function e(i){if(o[i])return o[i].exports;var n=o[i]={exports:{},id:i,loaded:!1};return t[i].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}([function(t,exports,e){"use strict";e(1);var o=e(5),i=e(7),n=new ex.Engine({width:800,height:600});n.backgroundColor=ex.Color.Black;var r=new o(100,n.getHeight()-40,20,20,ex.Color.Red),l=new i(150,n.getHeight()-80,25,25,ex.Color.Yellow),s=new ex.ParticleEmitter(300,300,10,10);s.radius=5,s.minVel=100,s.maxVel=200,s.minAngle=0,s.maxAngle=2*Math.PI,s.emitRate=3,s.opacity=.5,s.fadeFlag=!0,s.particleLife=1e3,s.maxSize=4,s.minSize=1,s.isEmitting=!0,n.add(r),n.add(s),n.add(l),n.start()},function(t,exports){},,,,function(t,exports,e){"use strict";var o=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},i=e(6),n=function(t){function e(e,o,i,n,r){t.call(this,e,o,i,n,r),this.velocity=1,this.collisionType=ex.CollisionType.Active}return o(e,t),e.prototype.handleKeyInput=function(t){console.log(t)},e.prototype.onInitialize=function(t){this.controller=new i(t),console.log(this.controller)},e.prototype.update=function(e,o){t.prototype.update.call(this,e,o),this.controller.handleMovement(e,this),this.controller.handleConstruction(e,this)},e.prototype.draw=function(e,o){this.drawGlow(e,o),t.prototype.draw.call(this,e,o)},e.prototype.drawGlow=function(t,e){var o=t.createRadialGradient(this.getCenter().x,this.getCenter().y,10,this.getCenter().x,this.getCenter().y,180);o.addColorStop(0,"rgba(255,255,255, 0.9)"),o.addColorStop(1,"rgba(0,0,0,0.0)"),t.fillStyle=o,t.beginPath(),t.globalCompositeOperation="xor",t.arc(this.getCenter().x,this.getCenter().y,180,0,2*Math.PI),t.closePath(),t.fill(),t.fillStyle="orange",t.fillRect(1e3,1e3,1e3,1e3)},e}(ex.Actor);t.exports=n},function(t,exports,e){"use strict";var o=e(8),i=function(){function t(t){this.engine=t,this.towerFactory=new o(t)}return t.prototype.handleMovement=function(t,e){(t.input.keyboard.isHeld(ex.Input.Keys.W)||t.input.keyboard.isHeld(ex.Input.Keys.Up))&&(e.y-=1*e.velocity),(t.input.keyboard.isHeld(ex.Input.Keys.S)||t.input.keyboard.isHeld(ex.Input.Keys.Down))&&(e.y+=1*e.velocity),(t.input.keyboard.isHeld(ex.Input.Keys.A)||t.input.keyboard.isHeld(ex.Input.Keys.Left))&&(e.x-=1*e.velocity),(t.input.keyboard.isHeld(ex.Input.Keys.D)||t.input.keyboard.isHeld(ex.Input.Keys.Right))&&(e.x+=1*e.velocity),t.input.keyboard.isHeld(ex.Input.Keys.V)?e.velocity=e.velocity<4?1.1*e.velocity:e.velocity:e.velocity=e.velocity>1?e.velocity/1.05:e.velocity},t.prototype.handleConstruction=function(t,e){t.input.keyboard.wasPressed(ex.Input.Keys.C)&&this.towerFactory.addTower(e.x+20,e.y+20)},t}();t.exports=i},function(t,exports){"use strict";var e=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},o=function(t){function o(e,o,i,n,r){t.call(this,e,o,i,n,r),this.velocity=1,this.lightStartPoint=new ex.Point(this.x+this.getWidth(),this.y+this.getHeight()/2),this.fovLength=300,this.travelVector=new ex.Vector(1,0),this.collisionType=ex.CollisionType.Passive}return e(o,t),o.prototype.handleKeyInput=function(t){console.log(t)},o.prototype.onInitialize=function(t){this.moveTo(100,100,50).delay(3e3).moveTo(0,200,50).delay(3e3).repeatForever()},o.prototype.update=function(e,o){t.prototype.update.call(this,e,o)},o.prototype.draw=function(e,o){t.prototype.draw.call(this,e,o),this.drawFOV(this.lightStartPoint,e,o)},o.prototype.drawFOV=function(t,e,o){var i=new ex.Ray(t,this.travelVector),n=i.getPoint(this.fovLength),r=e.createRadialGradient(t.x,t.y,10,n.x,n.y,this.fovLength/2);r.addColorStop(0,"rgba(255, 150, 150, 0.3)"),r.addColorStop(1,"rgba(255, 150, 150, 0)"),e.fillStyle=r,e.beginPath(),e.arc(this.getCenter().x,this.getCenter().y,this.fovLength-200,0,2*Math.PI),e.closePath(),e.fill()},o}(ex.Actor);t.exports=o},function(t,exports,e){"use strict";var o=e(9),i=function(){function t(t){this.engine=t}return t.prototype.addTower=function(t,e){this.engine.currentScene.add(new o(t,e))},t}();t.exports=i},function(t,exports){"use strict";var e=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},o=function(t){function o(e,o){t.call(this,e,o,15,15,ex.Color.Azure),this.collisionType=ex.CollisionType.Fixed}return e(o,t),o}(ex.Actor);t.exports=o}]);
//# sourceMappingURL=bundle.js.map